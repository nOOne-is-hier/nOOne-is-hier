name: Update README metrics

on:
  schedule:
    # 매일 0시(UTC)에 실행
    - cron: "0 0 * * *"
  workflow_dispatch:

jobs:
  update-readme:
    runs-on: ubuntu-latest
    permissions:
      contents: write # README.md 수정 권한

    steps:
      - name: Checkout
        uses: actions/checkout@v4

      - name: Update stats
        uses: thanhhaudev/github-stats@latest
        env:
          GH_TOKEN: ${{ secrets.GH_TOKEN }}
          SHOW_METRICS: COMMIT_TIMES_OF_DAY
          TIME_ZONE: Asia/Seoul
          SECTION_NAME: readme-stats
